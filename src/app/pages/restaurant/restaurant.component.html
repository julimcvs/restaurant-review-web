<div class="px-5">
  <div class="p-fluid flex justify-content-between">
    <h1>
      <i class="pi pi-building" style="font-size: 1.5rem"></i>
      Restaurants
    </h1>
    <div class="flex align-items-center">
      <p-button
        [routerLink]="['/restaurants/new']">
        <i class="pi pi-plus mx-2"></i>
        Add Restaurant
      </p-button>
    </div>
  </div>
  <p-card>
    <div class="grid column-gap-3">
    @for (restaurant of restaurants; track restaurant.id) {
      <div>
        <p-card
          class="col-12 md:col-3"
          [header]="restaurant.name"
          [style]="{ width: '360px' }">
          <ng-template pTemplate="header">
            <img alt="Card" src="https://primefaces.org/cdn/primeng/images/card-ng.jpg"/>
          </ng-template>

          <ng-template pTemplate="subheader">
            <div class="flex align-content-center gap-2">
            <p-rating [(ngModel)]="restaurant.averageRating" [readonly]="true" [cancel]="false"/>
              <span *ngIf="restaurant.totalReviews > 0" class="text-primary">({{ restaurant.averageRating }})</span>
            </div>
            <div class="mt-2">
            <span>
              {{ restaurant.totalReviews }} Reviews
            </span>
            </div>
          </ng-template>

          <ng-template pTemplate="footer">
            <div
              class="flex justify-content-between mt-1">
              <p-button
                label="Rate Restaurant"
                severity="secondary"/>
              <p-button
                label="Check it out!"
                class="font-bold">
              </p-button>
            </div>
          </ng-template>
        </p-card>
      </div>
    }
    </div>
  </p-card>
</div>
